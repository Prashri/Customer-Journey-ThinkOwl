<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Customer's Journey in ThinkOwl</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Neutrals -->
    <!-- Application Structure Plan: The application is structured as a linear, narrative journey ("The Journey of a Customer Query") that a user scrolls through. This story-based approach is chosen over a simple feature list because it's more engaging and intuitive for a non-technical D2C audience. It translates the abstract 4-layer architecture into a concrete, step-by-step process of how a customer issue is handled, making the value proposition tangible. Key interactions include hovering to see data flows, clicking to reveal integrated data, and toggling to see automation in action. This flow directly mirrors a real-world business process, enhancing understanding and retention. -->
    <!-- Visualization & Content Choices: 
        1. Omni-Channel (Layer 1): Goal: Inform. Method: HTML/CSS icons funneling into a central point. Interaction: Hovering highlights the path. Justification: Visually simplifies the complex idea of channel unification.
        2. Intelligence (Layer 2): Goal: Organize. Method: A series of cards with icons (profile, sentiment, routing). Interaction: Clicking a card reveals a short explanation. Justification: Breaks down the abstract "AI" layer into understandable, distinct functions.
        3. Integration (Layer 3): Goal: Compare (before vs. after). Method: A mock ticket UI with buttons. Interaction: Clicking buttons uses JS to dynamically display mock data from "Shopify" or "Razorpay". Justification: This is the core interactive element, demonstrating the "single pane of glass" benefit in a powerful, hands-on way.
        4. Workflow (New Step 4): Goal: Explain BPMN visually. Method: A more complex flowchart-like structure with emojis and descriptive text. Justification: This new visualization clearly shows multi-step, conditional logic, distinguishing it from simple routing and highlighting the power of a full-fledged BPMN engine.
        5. Action (New Step 5): Goal: Compare & Inform. Method: A toggle for AI vs. Human resolution and Chart.js charts for analytics. Interaction: The toggle changes text and can now trigger a dynamic, step-by-step visual of the automated process, while charts have tooltips. Justification: The toggle clearly shows the power of automation, while the charts make the "analytics" benefit concrete and visual.
        6. D2C Value Proposition (Step 6): Goal: Summarize and conclude. Method: Three cards representing Replace, Integrate, Automate. Interaction: None, it's a summary. Justification: Provides a clear, high-level takeaway of ThinkOwl's benefits for D2C companies, directly addressing the user's request.
    -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF7;
            color: #3D3D3D;
        }
        .step-card {
            transition: all 0.3s ease-in-out;
            border: 1px solid #E0E0E0;
        }
        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            border-color: #4A90E2;
        }
        .channel-icon {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .channel-icon:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 10px rgba(74, 144, 226, 0.5));
        }
        .integration-btn {
            transition: all 0.2s ease;
        }
        .integration-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .section-fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .section-fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* New styles for the complex BPMN visualization */
        .bpmn-node {
            padding: 0.75rem;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 0.9rem;
            text-align: left;
            position: relative;
            margin-bottom: 1rem;
            line-height: 1.25;
        }
        .bpmn-node.start {
            background-color: #d1fae5; /* Green for start */
            border: 1px solid #10b981;
        }
        .bpmn-node.task {
            background-color: #e0f2fe; /* Blue for tasks */
            border: 1px solid #3b82f6;
        }
        .bpmn-node.decision {
            background-color: #fef9c3; /* Yellow for decisions */
            border: 1px solid #eab308;
            text-align: center;
            justify-content: center;
            padding: 1rem;
        }
        .bpmn-node.end {
            background-color: #fecaca; /* Red for end */
            border: 1px solid #ef4444;
        }
        .bpmn-icon {
            font-size: 1.5rem;
        }
        .flow-arrow-down {
            font-size: 2rem;
            color: #ccc;
            margin: -0.5rem auto -0.5rem;
            display: block;
            line-height: 1;
        }
        .flow-branch {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
        }
        .flow-branch-item {
            width: 50%;
            position: relative;
            text-align: center;
        }
        .flow-branch-item::before {
            content: '';
            position: absolute;
            top: -0.5rem;
            left: 50%;
            width: 2px;
            height: 1rem;
            background-color: #ccc;
            transform: translateX(-50%);
        }
        .flow-branch-label {
            font-size: 0.8rem;
            color: #777;
            margin-bottom: 0.5rem;
        }

        .automation-flow-step {
            opacity: 0;
            transform: translateX(-10px);
            transition: opacity 0.5s ease-in, transform 0.5s ease-in;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }
        .automation-flow-step.visible {
            opacity: 1;
            transform: translateX(0);
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20">
        
        <header class="text-center mb-16 md:mb-24">
            <h1 class="4xl md:text-5xl font-bold text-gray-800 mb-4">Your Customer's Journey in ThinkOwl</h1>
            <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">See how ThinkOwl's 4-layer architecture transforms your D2C customer support, one step at a time.</p>
        </header>

        <div class="space-y-20 md:space-y-32">

            <!-- Step 1: Omni-Channel Engagement -->
            <section id="step1" class="section-fade-in text-center">
                <div class="mb-4">
                    <span class="inline-block bg-blue-100 text-blue-800 text-sm font-semibold px-4 py-1 rounded-full">Step 1</span>
                </div>
                <h2 class="text-3xl font-bold mb-3">A Customer Reaches Out</h2>
                <p class="max-w-2xl mx-auto text-gray-600 mb-12">Your customers can contact you from anywhere. ThinkOwl gathers every message from every channel into one single, unified inbox. No more switching tabs, no more missed messages.</p>
                
                <div class="relative max-w-4xl mx-auto">
                    <div class="flex justify-around items-center mb-4 flex-wrap gap-4">
                        <div class="channel-icon text-5xl p-4 rounded-full bg-white shadow-md" data-channel-name="Phone">üìû</div>
                        <div class="channel-icon text-5xl p-4 rounded-full bg-white shadow-md" data-channel-name="Email">‚úâÔ∏è</div>
                        <div class="channel-icon text-5xl p-4 rounded-full bg-white shadow-md" data-channel-name="WhatsApp">üí¨</div>
                        <div class="channel-icon text-5xl p-4 rounded-full bg-white shadow-md" data-channel-name="Website">üåê</div>
                        <div class="channel-icon text-5xl p-4 rounded-full bg-white shadow-md" data-channel-name="In-App">üì±</div>
                        <div class="channel-icon text-5xl p-4 rounded-full bg-white shadow-md" data-channel-name="Social Media">üë•</div>
                    </div>
                    <div id="channel-name-display" class="text-lg font-semibold text-gray-700 h-6 mb-4 transition-opacity duration-300"></div>
                    <div class="flex justify-center items-center text-3xl text-gray-400 mb-8">
                        <span>‚Üì</span>
                    </div>
                    <div class="bg-white p-8 rounded-2xl shadow-xl border border-gray-200">
                        <h3 class="text-2xl font-semibold text-gray-800">Unified Inbox</h3>
                        <p class="text-gray-500">All conversations, perfectly organized.</p>
                    </div>
                </div>
            </section>

            <!-- Step 2: Intelligence Layer -->
            <section id="step2" class="section-fade-in text-center">
                <div class="mb-4">
                    <span class="inline-block bg-green-100 text-green-800 text-sm font-semibold px-4 py-1 rounded-full">Step 2</span>
                </div>
                <h2 class="text-3xl font-bold mb-3">The Smart Sorting Hat</h2>
                <p class="max-w-2xl mx-auto text-gray-600 mb-12">Once a message arrives, ThinkOwl's AI instantly analyzes it. It understands who the customer is, what they need, their sentiment, and who on your team is best equipped to help.</p>
                
                <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                    <div class="step-card bg-white p-6 rounded-xl text-left">
                        <div class="text-4xl mb-4">üë§</div>
                        <h3 class="font-bold text-lg">Unified Customer Profile</h3>
                        <p class="text-gray-600 text-sm">Instantly see past orders and interactions to understand the full context.</p>
                    </div>
                    <div class="step-card bg-white p-6 rounded-xl text-left">
                        <div class="text-4xl mb-4">üò† ‚Üí üòä</div>
                        <h3 class="font-bold text-lg">Sentiment Analysis</h3>
                        <p class="text-gray-600 text-sm">Detects urgency and frustration, flagging high-priority tickets automatically.</p>
                    </div>
                    <div class="step-card bg-white p-6 rounded-xl text-left">
                        <div class="text-4xl mb-4">üîÄ</div>
                        <h3 class="font-bold text-lg">Intelligent Routing</h3>
                        <p class="text-gray-600 text-sm">Automatically assigns the ticket to the right team‚Äîrefunds to finance, shipping to ops.</p>
                    </div>
                </div>
            </section>

            <!-- Step 3: Integration Layer -->
            <section id="step3" class="section-fade-in">
                <div class="text-center mb-4">
                    <span class="inline-block bg-purple-100 text-purple-800 text-sm font-semibold px-4 py-1 rounded-full">Step 3</span>
                </div>
                <h2 class="text-3xl font-bold mb-3 text-center">Gathering All the Clues</h2>
                <p class="max-w-2xl mx-auto text-gray-600 mb-12 text-center">Your support agent doesn't need to open other apps. ThinkOwl integrates with your D2C tools, pulling live data directly into the ticket. Click the buttons below to see it in action.</p>

                <div class="bg-white rounded-2xl shadow-xl border border-gray-200 p-6 md:p-8 max-w-4xl mx-auto">
                    <div class="md:flex md:space-x-8">
                        <div class="md:w-1/2 mb-8 md:mb-0">
                            <h3 class="font-bold text-xl mb-4">Customer Ticket: #T-12345</h3>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="font-semibold">Jane Doe</p>
                                <p class="text-gray-600">"Hi, I haven't received my order yet. The payment was taken but I have no shipping update. Can you help?"</p>
                            </div>
                            <div class="mt-6 flex flex-wrap gap-3">
                                <button id="shopifyBtn" class="integration-btn bg-green-600 text-white px-4 py-2 rounded-lg font-semibold text-sm">Check Shopify</button>
                                <button id="razorpayBtn" class="integration-btn bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold text-sm">Check Razorpay</button>
                                <button id="shiprocketBtn" class="integration-btn bg-indigo-600 text-white px-4 py-2 rounded-lg font-semibold text-sm">Check Shiprocket</button>
                            </div>
                        </div>
                        <div class="md:w-1/2 bg-gray-50 rounded-lg p-4 flex items-center justify-center">
                            <div id="integrationData" class="text-center text-gray-500">
                                <p>Click a button to fetch live data...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 4 (Original Step 5): The Workflow Blueprint -->
            <section id="step4" class="section-fade-in text-center">
                <div class="mb-4">
                    <span class="inline-block bg-pink-100 text-pink-800 text-sm font-semibold px-4 py-1 rounded-full">Step 4</span>
                </div>
                <h2 class="text-3xl font-bold mb-3">The Workflow Blueprint: BPMN in Action</h2>
                <p class="max-w-2xl mx-auto text-gray-600 mb-12">ThinkOwl's BPMN (Business Process Model and Notation) is a visual, no-code tool that lets you design and automate complex workflows. It goes beyond simple routing by orchestrating multi-step processes, conditional logic, and cross-departmental tasks.</p>
                
                <div class="bg-white rounded-2xl shadow-xl border border-gray-200 p-6 md:p-12 max-w-4xl mx-auto flex flex-col items-center">
                    <div class="bpmn-node start">
                        <span class="bpmn-icon">üì©</span>
                        <div>
                            <p class="font-bold">Ticket Created</p>
                            <p class="text-gray-600">Customer submits a refund request</p>
                        </div>
                    </div>
                    <div class="flow-arrow-down">‚Üì</div>
                    <div class="bpmn-node decision">
                        <span class="font-bold">Is Order Eligible for Refund?</span>
                    </div>
                    <div class="flow-arrow-down">‚Üì</div>
                    <div class="flow-branch">
                        <div class="flow-branch-item">
                            <div class="bpmn-node task text-left w-full">
                                <span class="bpmn-icon">‚ùå</span>
                                <div>
                                    <p class="font-bold">Automated Rejection</p>
                                    <p class="text-gray-600">Send pre-written "Ineligible" email to customer</p>
                                </div>
                            </div>
                        </div>
                        <div class="flow-branch-item">
                            <div class="bpmn-node task text-left w-full">
                                <span class="bpmn-icon">üë©‚Äçüíº</span>
                                <div>
                                    <p class="font-bold">Human Task</p>
                                    <p class="text-gray-600">Assign to Finance Team for review</p>
                                </div>
                            </div>
                            <div class="flow-arrow-down">‚Üì</div>
                            <div class="bpmn-node task text-left w-full">
                                <span class="bpmn-icon">üí≥</span>
                                <div>
                                    <p class="font-bold">System Task</p>
                                    <p class="text-gray-600">Process refund in payment system</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flow-arrow-down">‚Üì</div>
                    <div class="bpmn-node end">
                        <span class="bpmn-icon">‚úÖ</span>
                        <div>
                            <p class="font-bold">Process Complete</p>
                            <p class="text-gray-600">Ticket automatically closed and logged</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Step 5 (Original Step 4): Action Layer -->
            <section id="step5" class="section-fade-in">
                <div class="text-center mb-4">
                    <span class="inline-block bg-yellow-100 text-yellow-800 text-sm font-semibold px-4 py-1 rounded-full">Step 5</span>
                </div>
                <h2 class="text-3xl font-bold mb-3 text-center">Solving the Puzzle & Seeing the Big Picture</h2>
                <p class="max-w-2xl mx-auto text-gray-600 mb-12 text-center">With all the information at hand, resolution is fast. Simple queries are automated, complex ones are solved by agents in record time, and you get real-time insights on performance.</p>
                
                <div class="grid lg:grid-cols-2 gap-12 max-w-6xl mx-auto">
                    <div class="bg-white p-6 rounded-2xl shadow-xl border border-gray-200">
                        <h3 class="font-bold text-xl mb-4 text-center">Automation in Action</h3>
                        <div class="flex items-center justify-center space-x-4 mb-4">
                            <span>Manual</span>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="automationToggle" class="sr-only peer">
                                <div class="w-14 h-7 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-green-500"></div>
                            </label>
                            <span>AI Chatbot</span>
                        </div>
                        <div id="resolutionContainer" class="bg-gray-50 p-4 rounded-lg text-gray-700 min-h-[120px]">
                            <div id="resolutionText" class="text-center">
                                An agent manually checks 3 systems and replies in <strong>15 minutes</strong>.
                            </div>
                            <div id="automationFlow" class="hidden">
                                <!-- Dynamic automation steps will be added here -->
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-xl border border-gray-200">
                        <h3 class="font-bold text-xl mb-4 text-center">Real-Time Analytics</h3>
                        <div class="chart-container">
                            <canvas id="analyticsChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Automated Returns & Exchanges Workflow (NEW) -->
            <section id="automated-returns-workflow" class="section-fade-in text-center">
                <div class="mb-4">
                    <span class="inline-block bg-yellow-100 text-yellow-800 text-sm font-semibold px-4 py-1 rounded-full">Automated Use Case</span>
                </div>
                <h2 class="text-3xl font-bold mb-3">Automated Returns & Exchanges Workflow</h2>
                <p class="max-w-2xl mx-auto text-gray-600 mb-12">This workflow illustrates how an Indian D2C brand, "StyleCraft," uses ThinkOwl to automate returns and exchanges, eliminating manual work and speeding up the process from days to minutes.</p>

                <div class="bg-white rounded-2xl shadow-xl border border-gray-200 p-6 md:p-12 max-w-4xl mx-auto flex flex-col items-center">
                    <div class="bpmn-node start">
                        <span class="bpmn-icon">üì®</span>
                        <div>
                            <p class="font-bold">Customer Request Received</p>
                            <p class="text-gray-600">Via WhatsApp, Email, or Web Chat</p>
                        </div>
                    </div>
                    <div class="flow-arrow-down">‚Üì</div>
                    <div class="bpmn-node task">
                        <span class="bpmn-icon">ü§ñ</span>
                        <div>
                            <p class="font-bold">Automated Data Extraction & Ingestion</p>
                            <p class="text-gray-600">OwlDesk ingests the message, OwlForce extracts order number & reason</p>
                        </div>
                    </div>
                    <div class="flow-arrow-down">‚Üì</div>
                    <div class="bpmn-node task">
                        <span class="bpmn-icon">üîç</span>
                        <div>
                            <p class="font-bold">Verify Purchase & Return Policy</p>
                            <p class="text-gray-600">ThinkOwl checks Unicommerce (OMS) for order details</p>
                        </div>
                    </div>
                    <div class="flow-arrow-down">‚Üì</div>
                    <div class="bpmn-node decision">
                        <span class="font-bold">Is Return Valid?</span>
                    </div>
                    <div class="flow-arrow-down">‚Üì</div>
                    <div class="flow-branch">
                        <div class="flow-branch-item">
                            <div class="bpmn-node task text-left w-full">
                                <span class="bpmn-icon">‚ùå</span>
                                <div>
                                    <p class="font-bold">Automated Rejection</p>
                                    <p class="text-gray-600">Send automated email with policy details</p>
                                </div>
                            </div>
                        </div>
                        <div class="flow-branch-item">
                            <div class="bpmn-node task text-left w-full">
                                <span class="bpmn-icon">üì¶</span>
                                <div>
                                    <p class="font-bold">Initiate Reverse Pickup</p>
                                    <p class="text-gray-600">Automatically creates return label via logistics partner</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flow-arrow-down">‚Üì</div>
                    <div class="bpmn-node task">
                        <span class="bpmn-icon">‚úÖ</span>
                        <div>
                            <p class="font-bold">Customer Confirmation</p>
                            <p class="text-gray-600">Automated message sent with return label and pickup details</p>
                        </div>
                    </div>
                    <div class="flow-arrow-down">‚Üì</div>
                    <div class="bpmn-node end">
                        <span class="bpmn-icon">üéâ</span>
                        <div>
                            <p class="font-bold">Process Complete</p>
                            <p class="text-gray-600">Order updated, refund initiated, customer notified.</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- ThinkOwl's D2C Value Proposition -->
            <section id="step6" class="section-fade-in text-center">
                <h2 class="text-3xl font-bold mb-3">ThinkOwl's D2C Value Proposition</h2>
                <p class="max-w-2xl mx-auto text-gray-600 mb-12">ThinkOwl brings value to your D2C business by strategically replacing outdated tools, integrating with your core systems, and automating manual processes. It's a single platform to unify and enhance your operations.</p>
                
                <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                    <div class="step-card bg-white p-6 rounded-xl text-left shadow-md">
                        <div class="text-4xl mb-4">üîÑ</div>
                        <h3 class="font-bold text-lg mb-2">Replace</h3>
                        <p class="text-gray-600 text-sm">Replace legacy or rule-based systems with ThinkOwl's AI-first platform. This includes entry-level helpdesks like Freshdesk or basic email systems, upgrading you to intelligent routing and cognitive automation.</p>
                    </div>
                    <div class="step-card bg-white p-6 rounded-xl text-left shadow-md">
                        <div class="text-4xl mb-4">ü§ù</div>
                        <h3 class="font-bold text-lg mb-2">Integrate</h3>
                        <p class="text-gray-600 text-sm">ThinkOwl acts as an intelligent layer on top of your existing back-office and e-commerce tools. It integrates with systems like Shopify, WooCommerce, Tally, or SAP to sync data and orchestrate processes.</p>
                    </div>
                    <div class="step-card bg-white p-6 rounded-xl text-left shadow-md">
                        <div class="text-4xl mb-4">‚öôÔ∏è</div>
                        <h3 class="font-bold text-lg mb-2">Automate</h3>
                        <p class="text-gray-600 text-sm">Go beyond simple automation. ThinkOwl automates complex, unstructured processes like refund & return processing or warehouse communications, freeing up your team from repetitive tasks to focus on customer satisfaction.</p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const shopifyBtn = document.getElementById('shopifyBtn');
            const razorpayBtn = document.getElementById('razorpayBtn');
            const shiprocketBtn = document.getElementById('shiprocketBtn');
            const integrationData = document.getElementById('integrationData');

            const automationToggle = document.getElementById('automationToggle');
            const resolutionText = document.getElementById('resolutionText');
            const automationFlow = document.getElementById('automationFlow');

            const channelIcons = document.querySelectorAll('.channel-icon');
            const channelNameDisplay = document.getElementById('channel-name-display');

            const shopifyData = `
                <h4 class="font-bold text-lg text-gray-800">Shopify Order</h4>
                <p><span class="font-semibold">Order ID:</span> #SH-98765</p>
                <p><span class="font-semibold">Status:</span> <span class="text-yellow-600">Processing</span></p>
                <p><span class="font-semibold">Items:</span> 1x Super Toy</p>
            `;

            const razorpayData = `
                <h4 class="font-bold text-lg text-gray-800">Razorpay Payment</h4>
                <p><span class="font-semibold">Payment ID:</span> pay_ABC123</p>
                <p><span class="font-semibold">Status:</span> <span class="text-green-600">Captured</span></p>
                <p><span class="font-semibold">Amount:</span> $49.99</p>
            `;

            const shiprocketData = `
                <h4 class="font-bold text-lg text-gray-800">Shiprocket Delivery</h4>
                <p><span class="font-semibold">AWB:</span> SR-XYZ-001</p>
                <p><span class="font-semibold">Status:</span> <span class="text-blue-600">In Transit</span></p>
                <p><span class="font-semibold">Est. Delivery:</span> 2 days</p>
            `;

            shopifyBtn.addEventListener('click', () => {
                integrationData.innerHTML = shopifyData;
            });

            razorpayBtn.addEventListener('click', () => {
                integrationData.innerHTML = razorpayData;
            });

            shiprocketBtn.addEventListener('click', () => {
                integrationData.innerHTML = shiprocketData;
            });

            automationToggle.addEventListener('change', () => {
                if (automationToggle.checked) {
                    resolutionText.classList.add('hidden');
                    automationFlow.classList.remove('hidden');
                    
                    // Clear previous steps and start the animation
                    automationFlow.innerHTML = `
                        <div class="text-center font-semibold text-gray-600 mb-4">Automated Process:</div>
                        <div class="automation-flow-step"><span class="text-xl">üîç</span> Analyzing customer query...</div>
                    `;

                    setTimeout(() => {
                        const step1 = automationFlow.querySelector('.automation-flow-step');
                        step1.classList.add('visible');
                    }, 100);

                    setTimeout(() => {
                        automationFlow.innerHTML += `
                            <div class="automation-flow-step"><span class="text-xl">‚úÖ</span> Found Order #SH-98765 in Shopify.</div>
                        `;
                        const step2 = automationFlow.lastElementChild;
                        step2.classList.add('visible');
                    }, 800);

                    setTimeout(() => {
                        automationFlow.innerHTML += `
                            <div class="automation-flow-step"><span class="text-xl">üöÄ</span> Checking shipping status in Shiprocket.</div>
                        `;
                        const step3 = automationFlow.lastElementChild;
                        step3.classList.add('visible');
                    }, 1600);

                    setTimeout(() => {
                        automationFlow.innerHTML += `
                            <div class="automation-flow-step"><span class="text-xl">üí¨</span> Generating automated reply.</div>
                        `;
                        const step4 = automationFlow.lastElementChild;
                        step4.classList.add('visible');
                    }, 2400);

                    setTimeout(() => {
                        automationFlow.innerHTML += `
                            <div class="automation-flow-step"><span class="text-xl">‚úîÔ∏è</span> Reply sent in <strong>under 3 seconds</strong>.</div>
                        `;
                        const step5 = automationFlow.lastElementChild;
                        step5.classList.add('visible');
                    }, 3200);

                } else {
                    resolutionText.classList.remove('hidden');
                    automationFlow.classList.add('hidden');
                    automationFlow.innerHTML = '';
                    resolutionText.innerHTML = 'An agent manually checks 3 systems and replies in <strong>15 minutes</strong>.';
                }
            });

            channelIcons.forEach(icon => {
                icon.addEventListener('mouseenter', () => {
                    channelNameDisplay.innerText = icon.dataset.channelName;
                });
                icon.addEventListener('mouseleave', () => {
                    channelNameDisplay.innerText = '';
                });
            });

            const ctx = document.getElementById('analyticsChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Shipping Queries', 'Refund Requests', 'Product Questions', 'Other'],
                    datasets: [{
                        label: 'Ticket Volume',
                        data: [45, 25, 20, 10],
                        backgroundColor: [
                            'rgba(74, 144, 226, 0.7)',
                            'rgba(245, 166, 35, 0.7)',
                            'rgba(126, 211, 33, 0.7)',
                            'rgba(189, 16, 224, 0.7)'
                        ],
                        borderColor: [
                            'rgba(74, 144, 226, 1)',
                            'rgba(245, 166, 35, 1)',
                            'rgba(126, 211, 33, 1)',
                            'rgba(189, 16, 224, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: 'Top Customer Issues This Month'
                        }
                    }
                }
            });

            const sections = document.querySelectorAll('.section-fade-in');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.1
            });

            sections.forEach(section => {
                observer.observe(section);
            });
        });
    </script>
</body>
</html>
